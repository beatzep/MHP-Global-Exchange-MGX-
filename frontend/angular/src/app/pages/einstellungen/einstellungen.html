<div class="page-container">
  <h2>Einstellungen</h2>
  <p class="subtitle">Verwalten Sie Ihr Konto und Ihre Präferenzen</p>

  <div class="settings-grid">
    <!-- Profile Section -->
    <section class="settings-section">
      <h3 class="section-title">
        <span class="section-icon">👤</span>
        Profil aktualisieren
      </h3>
      <div class="settings-card">
        <form class="settings-form" (ngSubmit)="updateProfile()">
          <div class="form-group">
            <label for="name">Name</label>
            <input
              type="text"
              id="name"
              name="name"
              [(ngModel)]="name"
              placeholder="Ihr vollständiger Name"
              required />
          </div>

          <div class="form-group">
            <label for="email">E-Mail-Adresse</label>
            <input
              type="email"
              id="email"
              name="email"
              [(ngModel)]="email"
              placeholder="ihre.email@example.com"
              required />
          </div>

          <div *ngIf="profileMessage"
               [ngClass]="profileMessageType === 'success' ? 'success-message' : 'error-message'">
            <span class="message-icon">{{ profileMessageType === 'success' ? '✓' : '⚠️' }}</span>
            {{ profileMessage }}
          </div>

          <button type="submit" class="settings-btn" [disabled]="isProfileLoading">
            <span *ngIf="!isProfileLoading">Profil speichern</span>
            <span *ngIf="isProfileLoading">Wird gespeichert...</span>
          </button>
        </form>
      </div>
    </section>

    <!-- Security Section -->
    <section class="settings-section">
      <h3 class="section-title">
        <span class="section-icon">🔒</span>
        Passwort ändern
      </h3>
      <div class="settings-card">
        <form class="settings-form" (ngSubmit)="changePassword()">
          <div class="form-group">
            <label for="currentPassword">Aktuelles Passwort</label>
            <input
              type="password"
              id="currentPassword"
              name="currentPassword"
              [(ngModel)]="currentPassword"
              placeholder="••••••••"
              required />
          </div>

          <div class="form-group">
            <label for="newPassword">Neues Passwort</label>
            <input
              type="password"
              id="newPassword"
              name="newPassword"
              [(ngModel)]="newPassword"
              placeholder="••••••••"
              required />
          </div>

          <div class="form-group">
            <label for="confirmNewPassword">Neues Passwort bestätigen</label>
            <input
              type="password"
              id="confirmNewPassword"
              name="confirmNewPassword"
              [(ngModel)]="confirmNewPassword"
              placeholder="••••••••"
              required />
          </div>

          <div *ngIf="passwordMessage"
               [ngClass]="passwordMessageType === 'success' ? 'success-message' : 'error-message'">
            <span class="message-icon">{{ passwordMessageType === 'success' ? '✓' : '⚠️' }}</span>
            {{ passwordMessage }}
          </div>

          <button type="submit" class="settings-btn" [disabled]="isPasswordLoading">
            <span *ngIf="!isPasswordLoading">Passwort ändern</span>
            <span *ngIf="isPasswordLoading">Wird geändert...</span>
          </button>
        </form>
      </div>
    </section>
  </div>
</div>
